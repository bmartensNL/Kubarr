namespace:
  create: false  # kubarr deployment manager creates the namespace
  name: kubernetes-dashboard

kubernetes-dashboard:
  replicaCount: 1

  image:
    repository: kubernetesui/dashboard
    tag: "v2.7.0"
    pullPolicy: IfNotPresent

  # Metrics scraper for resource usage display
  metricsScraper:
    enabled: true
    image:
      repository: kubernetesui/metrics-scraper
      tag: "v1.0.9"
      pullPolicy: IfNotPresent
    resources:
      requests:
        cpu: 10m
        memory: 32Mi
      limits:
        cpu: 100m
        memory: 64Mi

  service:
    type: ClusterIP
    port: 8443
    targetPort: 8443

  resources:
    requests:
      cpu: 100m
      memory: 200Mi
    limits:
      cpu: 500m
      memory: 512Mi

  # Run in insecure mode (HTTP) since oauth2-proxy handles auth
  # and nginx handles TLS termination
  insecure: true
  insecurePort: 9090

  # Disable login since oauth2-proxy handles authentication
  enableSkipLogin: true
  enableInsecureLogin: true

  # Token TTL for the dashboard
  tokenTTL: 900

  livenessProbe:
    enabled: true
    initialDelaySeconds: 30
    periodSeconds: 30
    timeoutSeconds: 10
    failureThreshold: 3

  readinessProbe:
    enabled: true
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

serviceAccount:
  create: true
  name: kubernetes-dashboard

# RBAC - dashboard needs cluster-wide read access
rbac:
  create: true
  # ClusterRole scope - what the dashboard can access
  # "cluster-admin" gives full access, "view" gives read-only
  clusterRole: "cluster-admin"

nodeSelector: {}
tolerations: []
affinity: {}
podAnnotations: {}

# Network policy configuration
networkPolicy:
  enabled: true
  ingressFrom:
    - kubarr         # kubarr dashboard proxy
    - nginx  # nginx reverse proxy
  egressTo: []  # Dashboard needs to talk to kube-apiserver (allowed by default)
